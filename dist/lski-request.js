/*! lski-request - 1.3.2 */
!function(t,e){"use strict";"function"==typeof define&&define.amd?define(["exports"],function(n){return e(n,t)}):"object"==typeof exports?e(exports,t):e((t.lski=t.lski||{}).request={})}(this,function(t,e){"use strict";function n(t){return"function"==typeof t&&!!t.call}function r(t){return t instanceof Array}function o(t){return t instanceof Date}function s(t){t=t||{};for(var e=1;e<arguments.length;e++){var n=arguments[e];if(n)for(var u in n)if(Object.prototype.hasOwnProperty.call(n,u)){var a=n[u];null===a||"object"!=typeof a||o(a)||r(a)?t[u]=a:t[u]=s(t[u],a)}}return t}function u(t,e){return"string"==typeof e&&/^(\d{4})-(\d{2})-(\d{2})T(\d{2}):(\d{2}):(\d{2}(?:\.\d*)?)/.test(e)?new Date(Date.parse(e)):e}function a(t,e){return"string"==typeof e&&e.match("^/Date\\((\\d+)\\)/$")?new Date(parseInt(e.replace(/\/Date\((-?\d+)\)\//,"$1"))):e}function i(t,e){return s({},t,e)}function c(t){return"string"==typeof t?t:JSON.stringify(t)}function f(t,e){return""===t||null==t?null:JSON.parse(t,e.jsonReviver)}function d(t,r,o,s){return new Promise(function(u,a){var i=o.createRequest();i.open(r,t,!0);try{for(var c in o.headers||{})if(Object.prototype.hasOwnProperty.call(o.headers,c)){var f=n(o.headers[c])?o.headers[c](o):o.headers[c];f&&i.setRequestHeader(c,f)}}catch(d){e.console&&"string"==typeof e.console.log&&e.console("When using XDomainRequest you can not set custom headers")}i.readyState?i.onreadystatechange=function(){4===i.readyState&&u(l(i,o))}:i.onload=function(){u(l(i,o))},i.onerror=function(){a(y(null,"Network",i,o))},o.timeout&&!isNaN(o.timeout)&&(i.timeout=o.timeout,i.ontimeout=function(){a(y(null,"Timeout",i,o))}),o.beforeSend&&n(o.beforeSend)&&o.beforeSend(i,o),i.send(s)})}function p(){return new XMLHttpRequest}function l(t,e){return{status:1223===t.status?204:t.status,statusText:1223===t.status?"No Content":t.statusText,data:t.responseText,options:e,xhr:t}}function y(t,e,n,r){var o=new Error(e);return o.status=t,o.statusText=e,o.xhr=n,o.options=r,o}var h={JSON:1,TEXT:null};t.dataTypes={JSON:h.JSON,TEXT:h.TEXT},t.options={headers:{"content-type":"application/json",accept:function(t){return t.dataType===h.JSON?"application/json, text/json":void 0}},beforeSend:null,rejectOnStatusCode:!1,timeout:null,dataOnly:!1,dataType:h.JSON,jsonReviver:null,createRequest:p},t.utils={merge:s,isFunction:n,isDate:o,isArray:r,json:{iso8601Reviver:u,msDateReviver:a}},t.send=function(e,n,r,o){var s=i(t.options,o),u=d(e,n,s,c(r));return s.rejectOnStatusCode&&(u=u.then(function(t){return t.status<200||t.status>399?Promise.reject(y(t.status,t.statusText,t.xhr,t.options)):t})),s.dataType===h.JSON&&(u=u.then(function(t){return t.data=f(t.data,t.options),t})),s.dataOnly&&(u=u.then(function(t){return t.data})),u},t.get=function(e,n){return t.send(e,"GET",void 0,n)},t.post=function(e,n,r){return t.send(e,"POST",n,r)},t.put=function(e,n,r){return t.send(e,"PUT",n,r)},t.del=t["delete"]=function(e,n){return t.send(e,"DELETE",void 0,n)}});