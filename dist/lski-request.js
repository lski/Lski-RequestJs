/*!
 * lski-request - 1.0.0
*/
!function(t,e){"use strict";"function"==typeof define&&define.amd?define(["exports"],e):"object"==typeof exports?e(exports):(t.lski=t.lski||{},e(t.lski.request={}))}(this,function(t){"use strict";function e(t){return"function"==typeof t&&!!t.call}function n(t){t=t||{};for(var e=1;e<arguments.length;e++){var r=arguments[e];if(r)for(var o in r)if(Object.prototype.hasOwnProperty.call(r,o)){var s=r[o];t[o]=null===s||"object"!=typeof s||s instanceof Date?s:n(t[o],s)}}return t}function r(t,e){return"string"==typeof e&&/^(\d{4})-(\d{2})-(\d{2})T(\d{2}):(\d{2}):(\d{2}(?:\.\d*)?)/.test(e)?new Date(Date.parse(e)):e}function o(t,e){return"string"==typeof e&&e.match("^/Date\\((\\d+)\\)/$")?new Date(parseInt(e.replace(/\/Date\((-?\d+)\)\//,"$1"))):e}function s(t,e){var r=e?n({},t,e):n({},t);return r.dataType===f.JSON&&(r.headers.accept="application/json, text/javascript"),r}function a(t){return"string"==typeof t?t:JSON.stringify(t)}function u(t,e){return""===t||null==t?null:JSON.parse(t,e.jsonReviver)}function i(t,n,r,o){return new Promise(function(s,a){var u=new XMLHttpRequest;u.open(n,t,!0);for(var i in r.headers||{})if(Object.prototype.hasOwnProperty.call(r.headers,i)){var f=e(r.headers[i])?r.headers[i]():r.headers[i];f&&u.setRequestHeader(i,f)}u.readyState?u.onreadystatechange=function(){4===u.readyState&&s(d(u,r))}:u.onload=function(){s(d(u,r))},u.onerror=function(){a(c(null,"Network",u,r))},r.timeout&&!isNaN(r.timeout)&&(u.timeout=r.timeout,u.ontimeout=function(){a(c(null,"Timeout",u,r))}),r.beforeSend&&e(r.beforeSend)&&r.beforeSend(u,r),u.send(o)})}function d(t,e){return{status:1223===t.status?204:t.status,statusText:1223===t.status?"No Content":t.statusText,data:t.responseText,options:e,xhr:t}}function c(t,e,n,r){return{status:t,statusText:e,xhr:n,options:r}}var f={JSON:1,TEXT:null};t.dataTypes={JSON:f.JSON,TEXT:f.TEXT},t.settings={headers:{"content-type":"application/json"},beforeSend:null,rejectOnStatusCode:!1,timeout:null,dataOnly:!1,dataType:f.JSON,jsonReviver:null},t.utils={merge:n,isFunction:e,json:{iso8601Reviver:r,msDateReviver:o}},t.send=function(e,n,r,o){var d=s(t.settings,o),p=i(e,n,d,a(r));return d.rejectOnStatusCode&&(p=p.then(function(t){return t.status<200||t.status>399?Promise.reject(c(t.status,t.statusText,t.xhr,t.options)):t})),d.dataType===f.JSON&&p.then(function(t){return t.data=u(t.data,t.options),t}),d.dataOnly&&(p=p.then(function(t){return t.data})),p},t.get=function(e,n){return t.send(e,"GET",void 0,n)},t.post=function(e,n,r){return t.send(e,"POST",n,r)},t.put=function(e,n,r){return t.send(e,"PUT",n,r)},t.del=t["delete"]=function(e,n){return t.send(e,"DELETE",void 0,n)}});