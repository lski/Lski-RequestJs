/*!
 * lski-request - 1.1.0
*/
!function(t,e){"use strict";"function"==typeof define&&define.amd?define(["exports"],e):"object"==typeof exports?e(exports):(t.lski=t.lski||{},e(t.lski.request={}))}(this,function(t){"use strict";function e(t){return"function"==typeof t&&!!t.call}function n(t){return t instanceof Array}function r(t){return t instanceof Date}function o(t){t=t||{};for(var e=1;e<arguments.length;e++){var s=arguments[e];if(s)for(var u in s)if(Object.prototype.hasOwnProperty.call(s,u)){var a=s[u];t[u]=null===a||"object"!=typeof a||r(a)||n(a)?a:o(t[u],a)}}return t}function s(t,e){return"string"==typeof e&&/^(\d{4})-(\d{2})-(\d{2})T(\d{2}):(\d{2}):(\d{2}(?:\.\d*)?)/.test(e)?new Date(Date.parse(e)):e}function u(t,e){return"string"==typeof e&&e.match("^/Date\\((\\d+)\\)/$")?new Date(parseInt(e.replace(/\/Date\((-?\d+)\)\//,"$1"))):e}function a(t,e){return o({},t,e)}function i(t){return"string"==typeof t?t:JSON.stringify(t)}function c(t,e){return""===t||null==t?null:JSON.parse(t,e.jsonReviver)}function f(t,n,r,o){return new Promise(function(s,u){var a=new XMLHttpRequest;a.open(n,t,!0);for(var i in r.headers||{})if(Object.prototype.hasOwnProperty.call(r.headers,i)){var c=e(r.headers[i])?r.headers[i](r):r.headers[i];c&&a.setRequestHeader(i,c)}a.readyState?a.onreadystatechange=function(){4===a.readyState&&s(d(a,r))}:a.onload=function(){s(d(a,r))},a.onerror=function(){u(p(null,"Network",a,r))},r.timeout&&!isNaN(r.timeout)&&(a.timeout=r.timeout,a.ontimeout=function(){u(p(null,"Timeout",a,r))}),r.beforeSend&&e(r.beforeSend)&&r.beforeSend(a,r),a.send(o)})}function d(t,e){return{status:1223===t.status?204:t.status,statusText:1223===t.status?"No Content":t.statusText,data:t.responseText,options:e,xhr:t}}function p(t,e,n,r){return{status:t,statusText:e,xhr:n,options:r}}var l={JSON:1,TEXT:null};t.dataTypes={JSON:l.JSON,TEXT:l.TEXT},t.options={headers:{"content-type":"application/json",accept:function(t){return t.dataType===l.JSON?"application/json, text/json":void 0}},beforeSend:null,rejectOnStatusCode:!1,timeout:null,dataOnly:!1,dataType:l.JSON,jsonReviver:null},t.utils={merge:o,isFunction:e,isDate:r,isArray:n,json:{iso8601Reviver:s,msDateReviver:u}},t.send=function(e,n,r,o){var s=a(t.options,o),u=f(e,n,s,i(r));return s.rejectOnStatusCode&&(u=u.then(function(t){return t.status<200||t.status>399?Promise.reject(p(t.status,t.statusText,t.xhr,t.options)):t})),s.dataType===l.JSON&&u.then(function(t){return t.data=c(t.data,t.options),t}),s.dataOnly&&(u=u.then(function(t){return t.data})),u},t.get=function(e,n){return t.send(e,"GET",void 0,n)},t.post=function(e,n,r){return t.send(e,"POST",n,r)},t.put=function(e,n,r){return t.send(e,"PUT",n,r)},t.del=t["delete"]=function(e,n){return t.send(e,"DELETE",void 0,n)}});