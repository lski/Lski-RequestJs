/*! lski-request - 1.4.2 */
!function(t,e){"use strict";"function"==typeof define&&define.amd?define(["exports"],function(n){return e(n,t)}):"object"==typeof exports?e(exports,t):e((t.lski=t.lski||{}).request={},t)}(this,function(t,e,n){"use strict";function r(t){return"function"==typeof t&&!!t.call}function o(t){return t instanceof Array}function s(t){return t instanceof Date}function u(t){t=t||{};for(var e=1;e<arguments.length;e++){var n=arguments[e];if(n)for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)){var a=n[r];null===a||"object"!=typeof a||s(a)||o(a)?t[r]=a:t[r]=u(t[r],a)}}return t}function a(t,e){return"string"==typeof e&&/^(\d{4})-(\d{2})-(\d{2})T(\d{2}):(\d{2}):(\d{2}(?:\.\d*)?)/.test(e)?new Date(Date.parse(e)):e}function i(t,e){return"string"==typeof e&&e.match("^/Date\\((\\d+)\\)/$")?new Date(parseInt(e.replace(/\/Date\((-?\d+)\)\//,"$1"))):e}function c(t,e){return u({},t,e)}function f(){}function d(t){return null===t||t===n?null:"string"==typeof t||t instanceof m||t instanceof S||t instanceof O||t.buffer instanceof O?t:JSON.stringify(t)}function l(t,e){return""===t||null==t?null:JSON.parse(t,e.jsonReviver)}function p(t,n,o,s){return new Promise(function(u,a){var i=o.createRequest();i.open(n,t,!0);try{for(var c in o.headers||{})if(Object.prototype.hasOwnProperty.call(o.headers,c)){var f=r(o.headers[c])?o.headers[c](o):o.headers[c];f&&i.setRequestHeader(c,f)}}catch(d){e.console&&"string"==typeof e.console.log&&e.console("When using XDomainRequest you can not set custom headers")}i.readyState?i.onreadystatechange=function(){4===i.readyState&&u(h(i,o))}:i.onload=function(){u(h(i,o))},i.onerror=function(){a(T(null,"Network",i,o))},o.timeout&&!isNaN(o.timeout)&&(i.timeout=o.timeout,i.ontimeout=function(){a(T(null,"Timeout",i,o))}),o.beforeSend&&r(o.beforeSend)&&o.beforeSend(i,o),i.send(s)})}function y(){return new XMLHttpRequest}function h(t,e){return{status:1223===t.status?204:t.status,statusText:1223===t.status?"No Content":t.statusText,data:t.responseText,options:e,xhr:t}}function T(t,e,n,r){var o=new Error(e);return o.status=t,o.statusText=e,o.xhr=n,o.options=r,o}var v={JSON:1,TEXT:null};t.dataTypes={JSON:v.JSON,TEXT:v.TEXT},t.options={headers:{"content-type":"application/json",accept:function(t){return t.dataType===v.JSON?"application/json, text/json":void 0}},beforeSend:null,rejectOnStatusCode:!1,timeout:null,dataOnly:!1,dataType:v.JSON,jsonReviver:null,createRequest:y},t.utils={merge:u,isFunction:r,isDate:s,isArray:o,json:{iso8601Reviver:a,msDateReviver:i}},t.send=function(e,n,r,o){var s=c(t.options,o),u=p(e,n,s,d(r));return s.rejectOnStatusCode&&(u=u.then(function(t){return t.status<200||t.status>399?Promise.reject(T(t.status,t.statusText,t.xhr,t.options)):t})),s.dataType===v.JSON&&(u=u.then(function(t){return t.data=l(t.data,t.options),t})),s.dataOnly&&(u=u.then(function(t){return t.data})),u},t.get=function(e,r){return t.send(e,"GET",n,r)},t.post=function(e,n,r){return t.send(e,"POST",n,r)},t.put=function(e,n,r){return t.send(e,"PUT",n,r)},t.del=t["delete"]=function(e,r){return t.send(e,"DELETE",n,r)};var O=e.ArrayBuffer||f,S=e.FormData||f,m=e.Blob||f});